<link href="assets/nexus/css/discover.css" rel="stylesheet">
<!-- Main container for the discover section -->
<div id="discover" class="position-relative w-100 h-100 d-flex flex-column">
    <!-- Navigation bar -->
    <nav class="navbar position-absolute navbar-expand-lg glass rounded-2 overflow-hidden shadow"
         style="z-index: 99; width: calc(100% - 2rem); height: 3.75rem; margin: 1rem; border: 1px solid var(--bs-border-color-translucent);">
        <div class="container-fluid">
            <!-- Navbar toggler button for smaller screens -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                    data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                    aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <!-- Collapsible navbar content -->
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <!-- Navbar links -->
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="#">Home</a>
                    </li>
                </ul>
                <a onclick="document.getElementById('search').classList.toggle('active'); document.getElementById('search-label').querySelector('input').focus();" class="search-button"><i class="bi bi-search"></i> Open Search</a>
            </div>
        </div>
    </nav>
    <!-- Header section -->
    <div id="header" class="p-3">
        <!-- Content for the header will go here -->
    </div>
    <!-- News section -->
    <div id="news" class="p-3">
        <!-- Content for the news will go here -->
    </div>
</div>

<div id="search" class="nex-flex w-100 h-100">
    <div class="card bg-dark-subtle submenu glass d-none"></div>
    <div class="position-relative w-100 m-2 card glass shadow overflow-hidden p-0">
        <div class="title-menu card-header p-1 shadow border-bottom-0">
            <h4><label id="search-label">
                <input onkeydown="if(event.keyCode===13) { startSearch(0); }" onfocus="if(!document.getElementById('search').classList.contains('active')) { document.getElementById('search').classList.add('active'); } disableMenu(true);" type="text" placeholder="Search here...">
            </label></h4>
            <button onclick="location.reload();" type="button">X</button>
        </div>
        <div class="nex-side-view position-relative p-3 overflow-hidden" style="">
            <div class="p-0 m-0 w-100 h-100 ">
                <div class="p-2 overflow-y-auto results-container">

                </div>
                <div class="d-none template-container">
                    <div class="card glass shadow mw-100 w-100 overflow-hidden search-result search-result-template p-0" style="height: 9rem; display: none; margin-bottom: 0.5rem;">
                        <img alt="search result-icon" src="">
                        <div>
                            <strong class="result-source"></strong>
                            <h5><strong style="color: var(--nex-iv);" class="result-name"></strong> by <span class="result-authors"></span></h5>
                            <div class="result-summary-container p-0 m-0"><span class="result-summary"></span></div>
                            <div class="result-actions-container m-0">
                                <div class="left p-0 m-0">
                                    <p><i class="bi bi-download"></i> <span class="result-downloads">0</span></p>
                                    <p><i class="bi bi-heart"></i> <span class="result-followers">0</span></p>
                                </div>
                                <div class="right p-0 m-0">
                                    <button type="button" class="btn btn-nex-secondary result-url"><i class="bi bi-box-arrow-up-right"></i> View</button>
                                    <button type="button" class="btn btn-nex-primary result-install"><i class="bi bi-download"></i> Install</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <button onclick="searchOffset = searchOffset+1; startSearch(searchOffset);" id="loadmore" style="display: none">Load more</button>
            </div>
            <div class="glass" style="max-width: fit-content; width: fit-content; min-width: fit-content;">
                <div class="p-0 m-0 category-container" id="search-source">
                    <strong>Search sources</strong><br>
                    <div onclick="console.log('[CONNECTOR] discover.search.enable.nex.'+!this.querySelector('input').checked); this.querySelector('input').checked = !this.querySelector('input').checked;" class="form-check form-switch d-flex category-row nex">
                        NEX (Official)
                        <label>
                            <input disabled class="form-check-input switch" type="checkbox" role="switch" checked>
                        </label>
                    </div>
                    <div onclick="console.log('[CONNECTOR] discover.search.enable.curseforge.'+!this.querySelector('input').checked); this.querySelector('input').checked = !this.querySelector('input').checked;" class="form-check form-switch d-flex category-row modrinth">
                        CurseForge
                        <label>
                            <input disabled class="form-check-input switch" type="checkbox" role="switch" checked>
                        </label>
                    </div>
                    <div onclick="console.log('[CONNECTOR] discover.search.enable.modrinth.'+!this.querySelector('input').checked); this.querySelector('input').checked = !this.querySelector('input').checked;" class="form-check form-switch d-flex category-row curseforge">
                        Modrinth
                        <label>
                            <input disabled class="form-check-input switch" type="checkbox" role="switch" checked>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Button to trigger menu enabling (likely for JavaScript) -->
<button onclick="loadScript('assets/nexus/js/discover.js', null); enableMenu(true); setTimeout(()=>{ initDiscover(); }, 100);" class="onload d-none">On page load</button>